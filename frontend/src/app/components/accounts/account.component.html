<div class="accounts-container container py-4">

  <h2 class="mb-4">Mes Comptes Bancaires</h2>

  <!-- Aucun compte -->
  <div *ngIf="accounts.length === 0" class="text-center py-5">
    <i class="bi bi-wallet display-1 text-muted mb-3"></i>
    <h4 class="text-muted mb-2">Aucun compte trouvé</h4>
    <p class="text-muted mb-3">Commencez par créer votre premier compte bancaire</p>
    <button class="btn btn-primary" (click)="createAccount()">
      <i class="bi bi-plus-lg"></i>
      Créer un compte
    </button>
  </div>

  <!-- Liste des comptes -->
  <div class="row" *ngIf="accounts.length > 0">
    <div class="col-md-6 mb-3" *ngFor="let account of accounts; let i = index">
      <div class="card h-100 shadow-sm" [style.animationDelay.ms]="i * 100">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <h6 class="mb-1">{{ account.accountNumber }}
                <button class="btn btn-sm btn-outline-secondary ms-2" (click)="copyAccountNumber(account.accountNumber, $event)">
                  <i class="bi bi-clipboard"></i>
                </button>
              </h6>
              <small class="text-muted">Créé le {{ formatDate(account.createdAt) }}</small>
            </div>
            <span class="badge" [class.bg-success]="account.balance >= 0" [class.bg-warning]="account.balance < 0">
              {{ account.balance >= 0 ? 'Actif' : 'Découvert' }}
            </span>
          </div>
          <div class="text-center my-3">
            <h3 [class.text-success]="account.balance >= 0" [class.text-warning]="account.balance < 0">
              {{ formatCurrency(account.balance) }}
            </h3>
            <small class="text-muted">{{ account.currency }}</small>
          </div>
          <div class="d-flex gap-2">
            <button class="btn btn-primary flex-fill" (click)="navigateToTransfer(account.accountNumber)">
              <i class="bi bi-send"></i> Transférer
            </button>
            <button class="btn btn-outline-secondary flex-fill" (click)="navigateToHistory()">
              <i class="bi bi-clock-history"></i> Historique
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
